---
title: FFmpeg å¸¸ç”¨å‘½ä»¤
date: 2025-11-29 11:10:15
categories: éŸ³è§†é¢‘
tags: FFmpeg
---
## FFmpeg æ˜¯ä»€ä¹ˆ

å®˜æ–¹çš„å®šä¹‰ï¼šFFmpeg æ˜¯ä¸€ä¸ªé¢†å…ˆçš„å¼€æºå¤šåª’ä½“æ¡†æ¶ï¼Œèƒ½å¤Ÿå¯¹å‡ ä¹ä»»ä½•éŸ³è§†é¢‘æ ¼å¼è¿›è¡Œç¼–ç /è§£ç /è½¬ç ï¼ˆencode/decode/transcodeï¼‰ã€å¤ç”¨/è§£å¤ç”¨ï¼ˆmux/demuxï¼‰ã€æµåŒ–ï¼ˆstreamï¼‰ã€æ»¤é•œå¤„ç†ï¼ˆfilterï¼‰å’Œæ’­æ”¾ï¼ˆplayï¼‰ç­‰æ“ä½œã€‚

ä»å·¥ç¨‹è§’åº¦ï¼Œå¯ä»¥æŠŠ FFmpeg ç†è§£ä¸ºï¼š

- ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·é›†ï¼ˆ`ffmpeg`ã€`ffplay`ã€`ffprobe`ï¼‰
- ä¸€ç»„åº•å±‚åº“ï¼ˆ`libavcodec`ã€`libavformat`ã€`libavfilter` ç­‰ï¼‰

å¸¸è§ç”¨é€”åŒ…æ‹¬ï¼š

- æ ¼å¼è½¬æ¢ï¼ˆ`mp4` â†” `mkv`ã€`avi`ã€`mov` ç­‰ï¼‰
- å‹ç¼©è§†é¢‘ã€æ§åˆ¶ç ç‡ / ç”»è´¨
- æˆªå–ç‰‡æ®µã€è£å‰ªç”»é¢ã€åŠ æ°´å°ã€åŠ å­—å¹•
- æŠŠè§†é¢‘è½¬ä¸º GIFã€æŠ½å–éŸ³é¢‘ã€æˆªå›¾
- æ¨æµåˆ° RTMP / HLS ç­‰ç›´æ’­æœåŠ¡å™¨

------

## FFmpeg çš„ä¸»è¦ç»„ä»¶

å‘½ä»¤è¡Œå±‚é¢ï¼Œé€šå¸¸ä¼šæ¥è§¦ 3 ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼š

- **`ffmpeg`**ï¼šæ ¸å¿ƒå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥åšå„ç§è½¬ç  / è¿‡æ»¤ / æ¨æµ
- **`ffplay`**ï¼šåŸºäº SDL çš„ç®€å•æ’­æ”¾å™¨ï¼Œæ–¹ä¾¿è°ƒè¯•å’Œå¿«é€Ÿé¢„è§ˆ
- **`ffprobe`**ï¼šç”¨æ¥æŸ¥çœ‹åª’ä½“æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼ˆç¼–ç ã€æ—¶é•¿ã€å¸§ç‡ã€ç ç‡ã€æµä¿¡æ¯ç­‰ï¼‰

å†…éƒ¨åº“ï¼ˆå†™ C/C++ ç¨‹åºæ—¶ä¼šç”¨åˆ°ï¼‰ï¼š

- `libavcodec`ï¼šç¼–è§£ç å™¨åº“ï¼ˆH.264ã€H.265ã€VP9ã€AV1ã€AACã€MP3â€¦ï¼‰
- `libavformat`ï¼šå°è£… / è§£å°è£…å„ç§å®¹å™¨ï¼ˆMP4ã€MKVã€FLVã€TSâ€¦ï¼‰
- `libavfilter`ï¼šæ»¤é•œç³»ç»Ÿï¼ˆç¼©æ”¾ã€è£å‰ªã€å åŠ ã€æ°´å°ã€è°ƒè‰²ç­‰ï¼‰
- `libswscale`ï¼šå›¾åƒç¼©æ”¾ã€åƒç´ æ ¼å¼è½¬æ¢
- `libswresample`ï¼šéŸ³é¢‘é‡é‡‡æ ·ï¼ˆé‡‡æ ·ç‡ã€å£°é“è½¬æ¢ï¼‰

## ffmpeg å¸¸ç”¨å‘½ä»¤

### è§†é¢‘è½¬ç 

```bash
ffmpeg -i input.mp4 -c:v libx264 -c:a aac output.avi
```

- `-i input.mp4`ï¼šè¾“å…¥æ–‡ä»¶
- `-c:v libx264`ï¼šè§†é¢‘ç¼–ç å™¨æŒ‡å®šä¸º H.264ï¼ˆå¸¸è§ä¸”å…¼å®¹æ€§å¥½ï¼‰
- `-c:a aac`ï¼šéŸ³é¢‘ç¼–ç å™¨æŒ‡å®šä¸º AAC
- `output.avi`ï¼šè¾“å‡ºæ–‡ä»¶å

ğŸ‘‰ æŠŠ MP4 è½¬ä¸º AVIï¼Œä¿è¯å¤§éƒ¨åˆ†æ’­æ”¾å™¨éƒ½èƒ½æ’­æ”¾ã€‚

------

### æŠ½å–éŸ³é¢‘ï¼ˆåªä¿ç•™éŸ³è½¨ï¼‰

```bash
ffmpeg -i input.mp4 -vn -acodec copy output.aac
```

- `-vn`ï¼šå»æ‰è§†é¢‘ï¼ˆVideo Noneï¼‰
- `-acodec copy`ï¼šéŸ³é¢‘ä¸é‡æ–°ç¼–ç ï¼Œç›´æ¥æ‹·è´
- `output.aac`ï¼šè¾“å‡ºéŸ³é¢‘æ–‡ä»¶

ğŸ‘‰ ç›´æ¥ä»è§†é¢‘ä¸­æå–éŸ³é¢‘ã€‚

------

### æŠ½å–è§†é¢‘ï¼ˆå»æ‰å£°éŸ³ï¼‰

```bash
ffmpeg -i input.mp4 -an -vcodec copy output_video.mp4
```

- `-an`ï¼šå»æ‰éŸ³é¢‘ï¼ˆAudio Noneï¼‰
- `-vcodec copy`ï¼šè§†é¢‘ä¸é‡æ–°ç¼–ç ï¼Œç›´æ¥æ‹·è´

ğŸ‘‰ åªä¿ç•™è§†é¢‘ç”»é¢ã€‚

------

### è§†é¢‘å‰ªåˆ‡

æˆªå–ç¬¬ 30 ç§’åˆ°ç¬¬ 60 ç§’çš„ç‰‡æ®µï¼š

```bash
ffmpeg -ss 30 -to 60 -i input.mp4 -c copy cut.mp4
```

- `-ss 30`ï¼šå¼€å§‹æ—¶é—´ï¼ˆ30 ç§’ï¼‰
- `-to 60`ï¼šç»“æŸæ—¶é—´ï¼ˆ60 ç§’ï¼‰
- `-i input.mp4`ï¼šè¾“å…¥æ–‡ä»¶
- `-c copy`ï¼šä¸é‡æ–°ç¼–ç ï¼Œç›´æ¥æ‹·è´ï¼ˆå¿«ï¼‰

ğŸ‘‰ å‰ªå‡º 30 ç§’åˆ° 60 ç§’çš„è§†é¢‘ã€‚

------

### æ”¹å˜åˆ†è¾¨ç‡

```bash
ffmpeg -i input.mp4 -vf scale=1280:720 output_720p.mp4
```

- `-vf`ï¼šä½¿ç”¨è§†é¢‘æ»¤é•œï¼ˆvideo filterï¼‰
- `scale=1280:720`ï¼šè®¾ç½®è¾“å‡ºåˆ†è¾¨ç‡ä¸º 1280Ã—720
- `output_720p.mp4`ï¼šè¾“å‡ºæ–‡ä»¶

ğŸ‘‰ æŠŠè§†é¢‘å‹ç¼©åˆ° 720pã€‚

------

### è½¬æ¢ä¸º GIF

æˆªå–å‰ 5 ç§’ï¼Œåšæˆ GIFï¼š

```bash
ffmpeg -i input.mp4 -t 5 -vf "fps=10,scale=320:-1" output.gif
```

- `-t 5`ï¼šæ—¶é•¿ï¼ˆå‰ 5 ç§’ï¼‰
- `-vf`ï¼šä½¿ç”¨è§†é¢‘æ»¤é•œ
    - `fps=10`ï¼šå¸§ç‡ 10fps
    - `scale=320:-1`ï¼šå®½åº¦ 320ï¼Œé«˜åº¦è‡ªåŠ¨æŒ‰æ¯”ä¾‹è®¡ç®—ï¼ˆ`-1` è¡¨ç¤ºä¿æŒæ¯”ä¾‹ï¼‰

ğŸ‘‰ ç”Ÿæˆé€‚åˆåˆ†äº«çš„å° GIFã€‚

------

### æ·»åŠ å­—å¹•

```bash
ffmpeg -i input.mp4 -vf subtitles=subtitle.srt output.mp4
```

- `-vf subtitles=subtitle.srt`ï¼šåŠ è½½å­—å¹•æ–‡ä»¶
- `output.mp4`ï¼šç”Ÿæˆå¸¦å­—å¹•çš„è§†é¢‘

ğŸ‘‰ æŠŠå¤–éƒ¨å­—å¹•ç¡¬ç¼–ç åˆ°è§†é¢‘ä¸­ã€‚

------

### æ”¹å˜ç ç‡

```bash
ffmpeg -i input.mp4 -b:v 1000k -b:a 128k output_compressed.mp4
```

- `-b:v 1000k`ï¼šè§†é¢‘ç ç‡è®¾ç½®ä¸º 1000kbpsï¼ˆè¶Šä½ä½“ç§¯è¶Šå°ï¼Œç”»è´¨è¶Šå·®ï¼‰
- `-b:a 128k`ï¼šéŸ³é¢‘ç ç‡è®¾ç½®ä¸º 128kbps

ğŸ‘‰ å¯ä»¥æ§åˆ¶è¾“å‡ºè§†é¢‘å¤§å°å’Œç”»è´¨ã€‚

### ä¿®æ”¹è§†é¢‘å¸§ç‡

```bash
ffmpeg -i input.mp4 -r 60 output.mp4
```

- `-r 60`ï¼šè§†é¢‘å¸§ç‡è®¾ç½®ä¸º 60 fps

### åˆå¹¶éŸ³è§†é¢‘

```bash
ffmpeg -i 5.mp4 -i 1.aac -c:v copy -c:a aac 6.mp4
```

- `-c:v libx264`ï¼šè§†é¢‘ç¼–ç å™¨æŒ‡å®šä¸º H.264ï¼ˆå¸¸è§ä¸”å…¼å®¹æ€§å¥½ï¼‰
- `-c:a aac`ï¼šéŸ³é¢‘ç¼–ç å™¨æŒ‡å®šä¸º AAC

### ç”»ä¸­ç”» (PIP) è§†é¢‘åˆæˆ

```bash
ffmpeg -i main.mp4 -i small.mp4 -filter_complex "[1:v]scale=320:240[pip];[0:v][pip]overlay=W-w-10:H-h-10" -c:a copy output.mp4
```

- `-i main.mp4` â†’ ä¸»è§†é¢‘è¾“å…¥
- `-i small.mp4` â†’ æ’å…¥çš„å°è§†é¢‘
- `-filter_complex` â†’ å¤æ‚æ»¤é•œï¼ˆå¤„ç†å¤šæµï¼‰
- `[1:v]scale=320:240[pip]` â†’ æŠŠç¬¬äºŒä¸ªè§†é¢‘ç¼©å°åˆ° 320x240ï¼Œå–åˆ«å pip
- `[0:v][pip]overlay=W-w-10:H-h-10` â†’ æŠŠç¼©å°è§†é¢‘å åŠ åˆ°ä¸»è§†é¢‘å³ä¸‹è§’
    - `W` = ä¸»è§†é¢‘å®½åº¦
    - `w` = å°è§†é¢‘å®½åº¦
    - `H` = ä¸»è§†é¢‘é«˜åº¦
    - `h` = å°è§†é¢‘é«˜åº¦
    - `W-w-10` è¡¨ç¤ºå³è¾¹ç•™ 10 åƒç´ 
    - `H-h-10` è¡¨ç¤ºåº•éƒ¨ç•™ 10 åƒç´ 
- `-c:a copy` â†’ éŸ³é¢‘ç›´æ¥æ‹·è´ï¼Œä¸é‡æ–°ç¼–ç 

------

### è§†é¢‘é¢„è§ˆæ‹¼å›¾

```bash
ffmpeg -i input.mp4 -vf "fps=1/10,scale=320:-1,tile=3x3" preview.jpg
```

- `-vf` â†’ è§†é¢‘æ»¤é•œ
- `fps=1/10` â†’ æ¯ 10 ç§’å– 1 å¸§
- `scale=320:-1` â†’ å®½åº¦ç¼©æ”¾åˆ° 320ï¼Œé«˜åº¦æŒ‰æ¯”ä¾‹è°ƒæ•´
- `tile=3x3` â†’ æŠŠ 9 å¼ æˆªå›¾æ‹¼æˆ 3x3 ç½‘æ ¼
- `preview.jpg` â†’ è¾“å‡ºä¸€å¼ æ‹¼å›¾

------

### å¤šéŸ³è½¨åˆæˆ

```bash
ffmpeg -i video.mp4 -i music.mp3 -map 0:v -map 0:a -map 1:a -c:v copy -c:a aac output.mp4
```

- `-map 0:v` â†’ é€‰ç¬¬ 1 ä¸ªè¾“å…¥ï¼ˆvideo.mp4ï¼‰çš„ è§†é¢‘
- `-map 0:a` â†’ é€‰ç¬¬ 1 ä¸ªè¾“å…¥çš„ éŸ³é¢‘
- `-map 1:a` â†’ é€‰ç¬¬ 2 ä¸ªè¾“å…¥ï¼ˆmusic.mp3ï¼‰çš„ éŸ³é¢‘
- `-c:v copy` â†’ è§†é¢‘æµç›´æ¥å¤åˆ¶
- `-c:a aac` â†’ éŸ³é¢‘ç»Ÿä¸€ç¼–ç æˆ AAC
  ğŸ‘‰ è¾“å‡ºè§†é¢‘ä¼šæœ‰ä¸¤ä¸ªéŸ³è½¨ï¼Œå¯åœ¨æ’­æ”¾å™¨ä¸­åˆ‡æ¢ã€‚

------

### å·¦å³åˆ†å±

```bash
ffmpeg -i left.mp4 -i right.mp4 -filter_complex "[0:v][1:v]hstack=inputs=2" output.mp4
```

- `[0:v][1:v]` â†’ å–ä¸¤ä¸ªè§†é¢‘çš„ç”»é¢æµ
- `hstack=inputs=2` â†’ æ¨ªå‘æ‹¼æ¥ä¸¤ä¸ªç”»é¢
  ğŸ‘‰ è¾“å‡ºæ–‡ä»¶æ˜¯å·¦å³å¯¹æ¯”çš„åˆ†å±ã€‚

------

### æ·»åŠ æ°´å°

```bash
ffmpeg -i input.mp4 -i logo.png -filter_complex "overlay=10:10" -c:a copy output.mp4
```

- `-i input.mp4` â†’ ä¸»è§†é¢‘
- `-i logo.png` â†’ æ°´å°å›¾ç‰‡
- `overlay=10:10` â†’ åœ¨å·¦ä¸Šè§’åç§» 10 åƒç´ è´´ä¸Šæ°´å°
- `-c:a copy` â†’ éŸ³é¢‘ä¸å˜

##  ffplay å¸¸ç”¨å‘½ä»¤

`ffplay` æ˜¯ FFmpeg è‡ªå¸¦çš„è½»é‡æ’­æ”¾å™¨ï¼Œç”¨äºè°ƒè¯•å’Œå¿«é€Ÿæ’­æ”¾ã€‚

### æ’­æ”¾æŒ‡å®šæ–‡ä»¶

```bash
ffplay input.mp4
```

æœ€åŸºæœ¬çš„æ’­æ”¾å‘½ä»¤ã€‚

------

### æŒ‡å®šçª—å£å¤§å°

```bash
ffplay -x 640 -y 480 input.mp4
```

- `-x 640` â†’ æŒ‡å®šçª—å£å®½åº¦
- `-y 480` â†’ æŒ‡å®šçª—å£é«˜åº¦
  âš ï¸ ä»…å½±å“æ˜¾ç¤ºçª—å£å¤§å°ï¼Œä¸ä¼šä¿®æ”¹è§†é¢‘å†…å®¹ã€‚

------

### é™éŸ³æ’­æ”¾

```bash
ffplay -an input.mp4
```

- `-an` â†’ **Audio None**ï¼Œä¸æ’­æ”¾éŸ³é¢‘ã€‚

------

### å¾ªç¯æ’­æ”¾

```bash
ffplay -loop 0 input.mp4
```

- `-loop 0` â†’ æ— é™å¾ªç¯æ’­æ”¾
- `-loop N` â†’ æ’­æ”¾ N æ¬¡

------

### ä»æŒ‡å®šæ—¶é—´å¼€å§‹æ’­æ”¾

```bash
ffplay -ss 10 input.mp4
```

- `-ss 10` â†’ ä» **ç¬¬ 10 ç§’** å¼€å§‹æ’­æ”¾ã€‚

------

### åªæ’­æ”¾éŸ³é¢‘ï¼ˆéšè—ç”»é¢ï¼‰

```bash
ffplay -vn input.mp4
```

- `-vn` â†’ **Video None**ï¼Œä¸æ’­æ”¾è§†é¢‘ï¼Œåªè¾“å‡ºå£°éŸ³ã€‚

------

## ffprobe å¸¸ç”¨å‘½ä»¤

`ffprobe` æ˜¯ç”¨æ¥æŸ¥çœ‹å¤šåª’ä½“æ–‡ä»¶ä¿¡æ¯çš„å·¥å…·ï¼Œè¾“å‡ºå†…å®¹æ¯” `ffmpeg -i` æ›´è¯¦ç»†ã€æ›´è§„èŒƒã€‚

### æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯

```bash
ffprobe -i input.mp4
```

- `ffprobe`ï¼šæŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯çš„å·¥å…·
- `-i input.mp4`ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶

ğŸ‘‰ è¾“å‡ºè§†é¢‘æµã€éŸ³é¢‘æµã€åˆ†è¾¨ç‡ã€æ—¶é•¿ã€ç ç‡ç­‰ã€‚

```cmd
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from '.\input.mp4':
  Metadata:
    major_brand     : mp42
    minor_version   : 1
    compatible_brands: isommp41mp42
    creation_time   : 2025-09-23T10:18:06.000000Z
    copyright       :
    copyright-eng   :
  Duration: 00:00:10.94, start: 0.000000, bitrate: 620 kb/s
  Stream #0:0[0x1](und): Video: hevc (Main) (hvc1 / 0x31637668), yuv420p(tv, bt709), 720x1280, 565 kb/s, 30 fps, 30 tbr, 600 tbn (default)
    Metadata:
      creation_time   : 2025-09-23T10:18:06.000000Z
      handler_name    : Core Media Video
      vendor_id       : [0][0][0][0]
  Stream #0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 48 kb/s (default)
    Metadata:
      creation_time   : 2025-09-23T10:18:06.000000Z
      handler_name    : Core Media Audio
      vendor_id       : [0][0][0][0]
```

#### è§†é¢‘æ€»æ—¶é•¿ & ç ç‡

- **Duration**: `00:00:10.94` â†’ è§†é¢‘æ—¶é•¿ 10.94 ç§’
- **start: 0.000000** â†’ æ’­æ”¾èµ·å§‹æ—¶é—´ï¼ˆé€šå¸¸æ˜¯ 0ï¼‰
- **bitrate: 620 kb/s** â†’ å¹³å‡æ€»ç ç‡ï¼ˆè§†é¢‘+éŸ³é¢‘ä¸€èµ·ï¼‰

------

#### è§†é¢‘æµ (Stream #0:0)

- **ç¼–ç æ ¼å¼**: `Video: hevc (Main)` â†’ H.265/HEVC ç¼–ç ï¼ˆMain Profileï¼‰
- **ç¼–ç  ID**: `(hvc1 / 0x31637668)` â†’ å¯¹åº”çš„å››å­—ç¬¦ç¼–ç  ID
- **åƒç´ æ ¼å¼**: `yuv420p(tv, bt709)`
    - `yuv420p`: YUV 4:2:0 å¹³é¢æ ¼å¼
    - `tv, bt709`: ä½¿ç”¨ BT.709 è‰²å½©ç©ºé—´ï¼ˆå¸¸è§äºé«˜æ¸…è§†é¢‘ï¼‰
- **åˆ†è¾¨ç‡**: `720x1280` â†’ å®½ 720ï¼Œé«˜ 1280
- **ç ç‡**: `565 kb/s` â†’ å¹³å‡è§†é¢‘æµç ç‡
- **å¸§ç‡**: `30 fps`
- **æ—¶åŸº**: `30 tbr, 600 tbn`
    - `tbr`: å¸§ç‡åŸºå‡†ï¼ˆtime base for frame rateï¼‰
    - `tbn`: æ—¶é’ŸåŸºå‡†ï¼ˆé€šå¸¸å½±å“æ—¶é—´æˆ³è®¡ç®—ï¼‰

------

#### éŸ³é¢‘æµ (Stream #0:1)

- **ç¼–ç æ ¼å¼**: `Audio: aac (LC)` â†’ AAC-LCï¼ˆä½å¤æ‚åº¦ AACï¼‰
- **ç¼–ç  ID**: `(mp4a / 0x6134706D)` â†’ éŸ³é¢‘ç¼–ç æ ‡è¯†
- **é‡‡æ ·ç‡**: `44100 Hz`
- **å£°é“æ•°**: `mono` â†’ å•å£°é“
- **é‡‡æ ·æ ¼å¼**: `fltp` â†’ æµ®ç‚¹å¹³é¢æ ¼å¼
- **ç ç‡**: `48 kb/s`

------

### åªæ˜¾ç¤ºæµä¿¡æ¯ï¼ˆç®€åŒ–ç‰ˆï¼‰

```bash
ffprobe -show_streams input.mp4
```

ä¼šåˆ—å‡ºæ‰€æœ‰éŸ³è§†é¢‘æµï¼ˆåˆ†è¾¨ç‡ã€é‡‡æ ·ç‡ã€ç¼–ç å™¨ç­‰ï¼‰ã€‚

------

### åªæ˜¾ç¤ºæ ¼å¼ä¿¡æ¯

```bash
ffprobe -show_format input.mp4
```

ä¼šæ˜¾ç¤ºæ—¶é•¿ã€å¤§å°ã€æ¯”ç‰¹ç‡ã€å…ƒæ•°æ®ç­‰ã€‚

------

### è¾“å‡º JSON æ ¼å¼ï¼ˆæ–¹ä¾¿ç¨‹åºå¤„ç†ï¼‰

```bash
ffprobe -v quiet -print_format json -show_format -show_streams input.mp4
```

- `-v quiet` â†’ ä¸è¾“å‡ºå¤šä½™ä¿¡æ¯
- `-print_format json` â†’ è¾“å‡ºä¸º JSON
- `-show_format` â†’ æ˜¾ç¤ºæ–‡ä»¶çº§åˆ«ä¿¡æ¯
- `-show_streams` â†’ æ˜¾ç¤ºæµçº§åˆ«ä¿¡æ¯

------

### è·å–æ—¶é•¿

```bash
ffprobe -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 input.mp4
```

è¾“å‡ºç»“æœå°±æ˜¯è§†é¢‘æ€»æ—¶é•¿ï¼ˆç§’ï¼‰ã€‚

### ç»Ÿè®¡å¸§æ•°

```bash
ffprobe -select_streams v -count_frames -show_entries stream=nb_read_frames -of default=nokey=1 input.mp4
```

- `-select_streams v` â†’ åªé€‰æ‹©è§†é¢‘æµ
- `-count_frames` â†’ ç»Ÿè®¡å¸§æ•°
- `-show_entries stream=nb_read_frames` â†’ æ˜¾ç¤ºæ€»å¸§æ•°

------

### è·å–å…³é”®å¸§æ—¶é—´æˆ³

```bash
ffprobe -select_streams v -skip_frame nokey -show_frames -of csv input.mp4
```

- `-skip_frame nokey` â†’ è·³è¿‡éå…³é”®å¸§
- `-show_frames` â†’ æ˜¾ç¤ºæ¯ä¸€å¸§çš„ä¿¡æ¯
- `-of csv` â†’ CSV è¾“å‡º

------

### æ£€æŸ¥æ˜¯å¦æœ‰å­—å¹•æµ

```bash
ffprobe -select_streams s -show_entries stream=index,codec_name -of compact input.mp4
```

- `-select_streams s` â†’ é€‰æ‹©å­—å¹•æµ
- `-show_entries stream=index,codec_name` â†’ æ˜¾ç¤ºç´¢å¼•å’Œç¼–ç æ ¼å¼